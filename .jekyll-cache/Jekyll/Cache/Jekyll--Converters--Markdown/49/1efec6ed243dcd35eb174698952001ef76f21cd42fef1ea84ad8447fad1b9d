I"®><p>è¿™æ˜¯åœ¨<em>Coursera</em>å­¦ä¹ æ¦‚ç‡è®ºæ—¶çš„ä¸€ä¸ªä½œä¸šé¢˜ç›®ï¼Œå…¶ä¸­æœ‰ç§æ¨¡æ‹Ÿè§£æ³•æ€è·¯å¾ˆæ–°é¢–ï¼Œè¿™é‡Œç®€å•åšä¸‹è®°å½•ã€‚</p>

<hr />

<h4 id="é—®é¢˜">é—®é¢˜</h4>

<p>å··å­å‘ˆç›´ç·šï¼Œé•·L0  = 400 mï¼Œè‰¾æ³¢å¯§ä»¥v0  = 4 m/såˆé€Ÿç­‰é€Ÿç©¿è¶Šã€‚å£«å…µæ™‚æ™‚åˆ»åˆ»ç„æº–å¥¹ï¼›ç¬¬t ç§’æ™‚æ˜¯å¦æ“Šä¸­å¥¹ï¼Œæ˜¯éš¨æ™‚é–“t çš„å‡å‹»çš„æ³Šæ¾äº‹ä»¶(Poisson process)ï¼Œä¸”èˆ‡è·é›¢ç„¡é—œã€‚å…¶ä¸­ï¼Œå¹³å‡æ¯Î¼ ç§’èƒ½æ“Šä¸­ä¸€æ¬¡ï¼ŒÎ¼  = 100 / ln( 50 )  ç´„ç‚º25.5622ã€‚å£«å…µç„¡æ³•æ“Šä¸­å··å­ä»¥å¤–çš„å€åŸŸï¼›å¦å¤–ï¼Œåªè¦å¥¹è™•æ–¼å··ä¸­ï¼ŒÎ¼ å°±æ˜¯å¸¸æ•¸ã€‚ ç•¶å¥¹æ¯è¢«æ“Šä¸­ä¸€æ§ï¼Œé€Ÿåº¦å°±æœƒæ¸›åŠï¼›ç›´åˆ°å¥¹æ°ä¸­4 æ§æ™‚ï¼Œæœƒç•¶å ´æ­»äº¡ã€‚äº¦å³ï¼Œä¸­næ§æ™‚é€Ÿåº¦ä¾åºç‚º4, 2, 1, 0.5 m/s ï¼Œå…¶ä¸­n ä¾åºç‚º  0, 1, 2, 3ã€‚</p>

<p>è«‹å•è‰¾æ³¢å¯§æˆåŠŸæä¿¡çš„æ©Ÿç‡ç‚ºä½•?  äº¦å³ï¼Œåœ¨å¥¹è™•æ–¼å··å­ä¹‹ä¸­æ™‚ï¼Œè¢«å°„ä¸­ä½æ–¼å››æ§çš„æ©Ÿç‡ç‚ºä½•?(ç”¨å°æ•¸å³å¯ï¼Œèª¤å·®åˆç†çµ¦å°)</p>

<hr />

<h4 id="è§£æ³•ä¸€">è§£æ³•ä¸€</h4>

<p>æ ¹æ®é¢˜æ„å¯ä»¥è·çŸ¥æ¯ç§’è¢«å‡»ä¸­çš„æ¦‚ç‡ä¸º$ p=\frac {\ln 50} {100}$ï¼Œå¤„äºä¸åŒç§’æ˜¯å¦è¢«å‡»ä¸­æ˜¯ä¸ªç‹¬ç«‹äº‹ä»¶ï¼Œ è‰¾æ³¢å¯§èƒ½æˆåŠŸæä¿¡çš„æ¡ä»¶æ˜¯ä¸­æªæ•°å°äº4ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æšä¸¾å¯èƒ½çš„ä¸­æªæ•°ï¼Œç„¶åç´¯åŠ å³å¯ã€‚</p>

<p>è¿™é‡Œä»¥ä¸­1æªä¸ºä¾‹ï¼Œå‡è®¾è‰¾æ³¢å¯§åœ¨ç¬¬<em>t</em>ç§’ä¸­æªï¼Œå·²èµ°çš„è·ç¦»ä¸º$t * 4$ï¼Œå‰©ä¸‹çš„è·ç¦»ä¸º$400 - t * 4$ï¼Œè‰¾æ³¢å¯§èµ°å‡ºå··å­éœ€è¦çš„ç§’æ•°ä¸º$seconds = t + \frac {(400 - 4 * t)} 2$ï¼Œé‚£ä¹ˆåœ¨ç¬¬<em>t</em>ç§’ä¸­ä¸€æªæˆåŠŸæä¿¡çš„æ¦‚ç‡ä¸º${(1-p)^{seconds-1}*p}$ï¼Œé€šè¿‡æšä¸¾ä¸­ä¸€æªå¯èƒ½å­˜åœ¨ç§’æ•°å°±èƒ½è®¡ç®—å‡ºè‰¾æ³¢å¯§ä¸­ä¸€æªæˆåŠŸæä¿¡çš„æ¦‚ç‡ã€‚</p>

<p>å…¶ä»–ä¸­æªæ•°â€”0ã€2ã€3ï¼Œåˆ†æè¿‡ç¨‹ä¸æ­¤ç±»ä¼¼ï¼Œè¿™é‡Œé¢æ¶‰åŠåˆ°çš„è®¡ç®—é‡å¯ä»¥é€šè¿‡ç¨‹åºè§£å†³ï¼Œè¿™é‡Œæä¾›ä¸€ç§å®ç°æ–¹å¼:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">poisson</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">pow</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">e</span><span class="p">,</span> <span class="o">-</span><span class="n">p</span><span class="p">)</span> <span class="o">*</span> <span class="nb">pow</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="o">/</span> <span class="n">math</span><span class="p">.</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">cum</span><span class="p">,</span> <span class="n">possibility</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">math</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span>

    <span class="n">distance</span> <span class="o">=</span> <span class="mi">400</span>
    <span class="n">speeds</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

    <span class="c1"># unhit
</span>    <span class="n">cum</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">possibility</span><span class="p">,</span> <span class="n">distance</span> <span class="o">//</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="c1"># hit one
</span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">distance</span> <span class="o">//</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">total_seconds</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span>
            <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="n">i</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">cum</span> <span class="o">+=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">possibility</span><span class="p">,</span> <span class="n">total_seconds</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">possibility</span>

    <span class="c1"># hit two
</span>    <span class="k">for</span> <span class="n">first_hit_second</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">distance</span> <span class="o">/</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
        <span class="n">left_seconds</span> <span class="o">=</span> <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="n">first_hit_second</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">//</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">two_hit_second</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">first_hit_second</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">first_hit_second</span> <span class="o">+</span> <span class="n">left_seconds</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">total_seconds</span> <span class="o">=</span> <span class="n">two_hit_second</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span>
                <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="n">first_hit_second</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="n">two_hit_second</span> <span class="o">-</span> <span class="n">first_hit_second</span><span class="p">)</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="n">cum</span> <span class="o">+=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">possibility</span><span class="p">,</span> <span class="n">total_seconds</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nb">pow</span><span class="p">(</span><span class="n">possibility</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># hit three
</span>    <span class="k">for</span> <span class="n">first_hit_second</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">distance</span> <span class="o">//</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">hit_one_left_seconds</span> <span class="o">=</span> <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="n">first_hit_second</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">//</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">two_hit_second</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">first_hit_second</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">first_hit_second</span> <span class="o">+</span> <span class="n">hit_one_left_seconds</span><span class="p">):</span>
            <span class="n">hit_two_left_second</span> <span class="o">=</span> <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="n">first_hit_second</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="n">two_hit_second</span> <span class="o">-</span> <span class="n">first_hit_second</span><span class="p">)</span> <span class="o">*</span>
                                   <span class="n">speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">//</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">three_hit_second</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">two_hit_second</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">two_hit_second</span> <span class="o">+</span> <span class="n">hit_two_left_second</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                    <span class="p">(</span><span class="n">distance</span> <span class="o">-</span> <span class="n">first_hit_second</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="n">two_hit_second</span> <span class="o">-</span> <span class="n">first_hit_second</span><span class="p">)</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span>
                            <span class="n">three_hit_second</span> <span class="o">-</span> <span class="n">two_hit_second</span><span class="p">)</span> <span class="o">*</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">speeds</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">three_hit_second</span>

                <span class="n">cum</span> <span class="o">+=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">possibility</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="nb">pow</span><span class="p">(</span><span class="n">possibility</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">cum</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h4 id="è§£æ³•äºŒ">è§£æ³•äºŒ</h4>

<p>ç¬¬äºŒç§è§£æ³•æ˜¯æ ¹æ®å¤§æ•°å®šç†å¾—å‡ºçš„ï¼Œé€šè¿‡è®¡ç®—æœºæ¨¡æ‹Ÿå¤šæ¬¡è¿‡ç¨‹ï¼Œç»Ÿè®¡æˆåŠŸæä¿¡æ‰€å çš„æ¯”ä¾‹å¾—å‡ºå…¶æ¦‚ç‡ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">emulate</span><span class="p">():</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">math</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="mi">400</span>
    <span class="n">speed</span> <span class="o">=</span> <span class="mi">4</span>

    <span class="k">while</span> <span class="n">distance</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">distance</span> <span class="o">-=</span> <span class="n">speed</span>

        <span class="c1"># æ¨¡æ‹Ÿæ˜¯å¦ä¸­æª
</span>        <span class="k">if</span> <span class="n">random</span><span class="p">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">speed</span> <span class="o">==</span> <span class="mf">0.5</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">speed</span> <span class="o">/=</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">times</span> <span class="o">=</span> <span class="mi">100000</span>
    <span class="n">success</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">emulate</span><span class="p">():</span>
            <span class="n">success</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">success</span> <span class="o">/</span> <span class="n">times</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<p>æœ€ç»ˆè®¡ç®—å‡ºæ¥ç»“æœä¸º0.06</p>
:ET